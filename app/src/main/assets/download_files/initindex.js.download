!function(){var e={319:function(e,t,r){e.exports=r.p+"images/fire.svg"}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/static/a221b964/s",function(){"use strict";function e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function t(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?e(Object(i),!0).forEach((function(e){n(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):e(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function n(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var i=e=>t=>{try{return e(t)}catch(r){return t}},o=i(decodeURIComponent),a=i(encodeURIComponent);function s(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("&").reduce(((e,t)=>{var r=t.indexOf("="),n=-1===r,i=n?t:t.slice(0,r);return e[o(i)]=n?void 0:o(t.slice(r+1)),e}),{})}function c(e,r){var[n,i=""]=e.split("?"),[o,c]=i.split("#"),l=function(e){return Object.keys(e).reduce(((t,r)=>{var n=e[r];return[...t,[a(r),void 0===n?null:a(n&&"object"==typeof n&&!Array.isArray(n)?JSON.stringify(n):n)].filter(Boolean).join("=")]}),[]).join("&")}(t(t({},o?s(o):{}),r));return l?"".concat(n,"?").concat(l).concat(c?"#".concat(c):""):e}function l(e){return(e||"").replace(/(.*?\.[^?/]+)([?:/]{1}|$).*/,"$1")}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=new class{constructor(){u(this,"subscribers",[])}get(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=c(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});return window.fetch(r,t).then((t=>{if(!t.ok)throw new Error("".concat(t.status," - ").concat(t.statusText));this.onApiCall(e,"get",!0);var r=t.headers.get("Content-Type");return r&&r.includes("json")?t.json():t.text()})).catch((t=>{throw this.onApiCall(e,"get",!1),t}))}post(e,t){return window.fetch(e,{method:"POST",body:JSON.stringify(t)}).then((t=>{if(!t.ok)throw t;this.onApiCall(e,"post",!0);var r=t.headers.get("Content-Type");return r&&r.includes("json")?t.json():t.text()})).catch((t=>{throw this.onApiCall(e,"post",!1),t}))}subscribe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.subscribers.push({callback:e,conditionFunction:t,deleteAfterCall:r})}onApiCall(e,t,r){this.subscribers=this.subscribers.filter((n=>{var{callback:i,conditionFunction:o,deleteAfterCall:a}=n;return!(!o||o(e,t,r))||(i(e,t,r),!a)}))}},d=f,p=e=>{var t=new Date;return t.setTime(t.getTime()+24*e*60*60*1e3),t.toUTCString()};function g(e){for(var t="".concat(e,"="),r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(t))return i.substring(t.length,i.length)}return null}class h{static getIsSessionStorageAvailable(){try{var e="___sessionStorageTest___";window.sessionStorage.setItem(e,"123");var t=window.sessionStorage.getItem(e);return window.sessionStorage.removeItem(e),"123"===t}catch(r){return!1}}static get(e){return h.getIsSessionStorageAvailable()?window.sessionStorage.getItem(e):""}static set(e,t){return!!h.getIsSessionStorageAvailable()&&window.sessionStorage.setItem(e,t)}static delete(e){h.getIsSessionStorageAvailable()&&window.sessionStorage.removeItem(e)}static has(e){return!!h.getIsSessionStorageAvailable()&&Object.prototype.hasOwnProperty.call(window.sessionStorage,e)}}class v{static getIsLocalStorageAvailable(){try{var e="___localStorageTest___";window.localStorage.setItem(e,"123");var t=window.localStorage.getItem(e);return window.localStorage.removeItem(e),"123"===t}catch(r){return!1}}static get(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return v.getIsLocalStorageAvailable()?window.localStorage.getItem(e):t}static set(e,t){return!!v.getIsLocalStorageAvailable()&&window.localStorage.setItem(e,t)}static delete(e){v.getIsLocalStorageAvailable()&&window.localStorage.removeItem(e)}static has(e){return!!v.getIsLocalStorageAvailable()&&Object.prototype.hasOwnProperty.call(window.localStorage,e)}}class m{static get(e){return g(e)}static set(e,t,r){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0;document.cookie=["".concat(e,"=").concat(t),r?"expires=".concat(p(r)):null,"path=/"].filter(Boolean).join(";")}(e,t,r)}static has(e){return null!==g(e)}}var y=(e,t)=>function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];try{return e(...n)}catch(o){return t(o,...n)}},b=e=>()=>e,S=()=>{},w=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(){var{length:e}=t,r=t[e-1];return t.slice(0,e-1).reverse().reduce(((e,t)=>t(e)),r(...arguments))}},P="stripchatWidgets_",A="auth",O={HAS_USER_AUTHORIZED_EVER:"".concat(P,"_hasUserAuthorizedEver"),HAS_WIDGET_ISABELLA_SHOWN:"".concat(P,"_hasIsabellaWidgetShown"),HAS_WIDGET_JOIN_SHOW_SHOWN:"".concat(P,"_hasJoinHerShowWidgetShown"),HAS_WIDGET_STRIPBOT_SHOWN:"".concat(P,"_hasStripbotWidgetShown"),IS_EXIT_POP_SHOWN_IN_SESSION:"".concat(P,"_isExitPopShownInSession"),LAST_TEST_PARAMS:"".concat(P,"_lastTestParams"),LAST_VIEWED_TIME:"".concat(P,"_lastViewedTime"),WIDGET_CLOSED_BY_CLICK:"".concat(P,"_widgetClosedByClick")};function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=e=>function(){return window.StripChat[e](...arguments)},E=y(_("appendExternalLink"),S),T=y(_("getPromoCampaigns"),b([])),C=y(_("getLandingParams"),b({})),L=y(_("getApplicationConfig"),b({})),k=y(_("getCurrentViewCamModel"),b(null)),U=y(_("getCurrentUser"),b(null)),W=y(_("getUserHash"),b(null)),D=y(_("openModal"),S),R=e=>D(A,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({component:"SignUp"},e)),M=y(_("closeModal"),S),x=y(_("subscribe"),S),H=y(_("unsubscribe"),S),N=y(_("commitAffiliateId"),S),F=y(_("addWidgetPlaceholder"),S),B=y(_("getFavoritesIds"),b([])),V=y(w((function(){return[...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]].reverse()}),_("getWatchHistory")),b([])),z=y(_("setEventConfig"),S),G={appendExternalLink:E,getFavoritesIds:B,getWatchHistory:V,getApplicationConfig:L,getCurrentViewCamModel:k,getCurrentUser:U,isUserLoggedIn:()=>!!U(),openModal:D,openRegisterModal:R,closeModal:M,subscribe:x,unsubscribe:H,getPromoCampaigns:T,getLandingParams:C,commitAffiliateId:N,addWidgetPlaceholder:F,setEventConfig:z,getUserHash:W};var J=function(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){return t.reject(r)}))}))};var q=function(e){return new this((function(t,r){if(!e||void 0===e.length)return r(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var i=n.length;function o(e,r){if(r&&("object"==typeof r||"function"==typeof r)){var a=r.then;if("function"==typeof a)return void a.call(r,(function(t){o(e,t)}),(function(r){n[e]={status:"rejected",reason:r},0==--i&&t(n)}))}n[e]={status:"fulfilled",value:r},0==--i&&t(n)}for(var a=0;a<n.length;a++)o(a,n[a])}))};function $(e,t){this.name="AggregateError",this.errors=e,this.message=t||""}$.prototype=Error.prototype;var X=function(e){var t=this;return new t((function(r,n){if(!e||void 0===e.length)return n(new TypeError("Promise.any accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return n();for(var o=[],a=0;a<i.length;a++)try{t.resolve(i[a]).then(r).catch((function(e){o.push(e),o.length===i.length&&n(new $(o,"All promises were rejected"))}))}catch(s){n(s)}}))},Z=setTimeout;function Q(e){return Boolean(e&&void 0!==e.length)}function K(){}function Y(e){if(!(this instanceof Y))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],oe(e,this)}function ee(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,Y._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var n;try{n=r(e._value)}catch(i){return void re(t.promise,i)}te(t.promise,n)}else(1===e._state?te:re)(t.promise,e._value)}))):e._deferreds.push(t)}function te(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof Y)return e._state=3,e._value=t,void ne(e);if("function"==typeof r)return void oe((n=r,i=t,function(){n.apply(i,arguments)}),e)}e._state=1,e._value=t,ne(e)}catch(o){re(e,o)}var n,i}function re(e,t){e._state=2,e._value=t,ne(e)}function ne(e){2===e._state&&0===e._deferreds.length&&Y._immediateFn((function(){e._handled||Y._unhandledRejectionFn(e._value)}));for(var t=0,r=e._deferreds.length;t<r;t++)ee(e,e._deferreds[t]);e._deferreds=null}function ie(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function oe(e,t){var r=!1;try{e((function(e){r||(r=!0,te(t,e))}),(function(e){r||(r=!0,re(t,e))}))}catch(n){if(r)return;r=!0,re(t,n)}}Y.prototype.catch=function(e){return this.then(null,e)},Y.prototype.then=function(e,t){var r=new this.constructor(K);return ee(this,new ie(e,t,r)),r},Y.prototype.finally=J,Y.all=function(e){return new Y((function(t,r){if(!Q(e))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return t([]);var i=n.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){o(e,t)}),r)}n[e]=a,0==--i&&t(n)}catch(c){r(c)}}for(var a=0;a<n.length;a++)o(a,n[a])}))},Y.any=X,Y.allSettled=q,Y.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Y?e:new Y((function(t){t(e)}))},Y.reject=function(e){return new Y((function(t,r){r(e)}))},Y.race=function(e){return new Y((function(t,r){if(!Q(e))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=e.length;n<i;n++)Y.resolve(e[n]).then(t,r)}))},Y._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){Z(e,0)},Y._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var ae,se,ce=Y,le=(e,t,r)=>function(){return e(...arguments)?t(...arguments):r(...arguments)},ue=(ae=new RegExp("^((".concat(["ar","br","cz","de","en","es","fr","gr","hu","it","jp","nl","no","pl","pt","ro","ru","sw","tr","ja","sv","el","cs","zh","ko","vr"].join("|"),")\\.)(.*)$")),se="$3",e=>e.replace(ae,se)),fe=le((e=>e.endsWith("stripchat.com")),b("eizzih.com"),ue),de=w((e=>"creative.".concat(e)),fe),pe=(e,t)=>{var{protocol:r,hostname:n}=e;return"".concat(r,"//").concat(de(n,t))},ge="sCashGuestId",he=e=>{if(e.has(ge))return e.get(ge);var t=[...Array(64)].map((()=>Math.floor(16*Math.random()).toString(16))).join("");return e.set(ge,t,90),t},ve="onLogin",me="onWatchModel",ye=le((e=>e.split(".").length>2&&function(e){return 0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"").indexOf(e)}("g",e)),(e=>e),(e=>"go.".concat(e))),be=w(ye,fe),Se=(e,t)=>{var{protocol:r,hostname:n}=e;return"".concat(r,"//").concat(be(n,t))},we=r(319),Pe=r.n(we),Ae=e=>(e=>null==e)(e)||""===e||Array.isArray(e)&&0===e.length||"object"==typeof e&&0===Object.keys(e).length||"number"==typeof e&&e!=e,Oe=e=>{var{landingParams:t,commitAffiliateId:r,getAffiliateId:n}=e,i=!Ae(t.affiliateId);return!Ae(t.userId)&&!i?n(t).then(r):Promise.resolve()},Ie=e=>{var{landingParams:{widgetName:t},location:r,Api:n}=e;return"mainMenu-LiveSex"===t&&(e=>{var{hostname:t}=e,[r,n]=t.split(".").reverse();return"xhamsterlive"===n&&("dev"===r||"com"===r)})(r)?n.get("https://collector.unlockxh2.com",{log:"custom",key:"live_sex_clicked"}).catch(S):Promise.resolve()},je="sCashHasBeenHere",_e="reload",Ee="navigation",Te=e=>{var{SessionStorage:t,performance:r,Api:n,url:i,entryUrl:o,referrer:a}=e;return(e=>{var{performance:t,SessionStorage:r}=e;try{var[n]=t.getEntriesByType("navigation");return n.type}catch(o){var i=r.has(je)?_e:Ee;return r.set(je,"1"),i}})({performance:r,SessionStorage:t})===_e||l(i)===l(a)?Promise.resolve():n.get(o,{url:i,referrer:a}).catch(S)},Ce=["userId"];function Le(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(r),!0).forEach((function(t){Ue(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Le(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ue(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var We="sCashAction",De="sCashViewsCount",Re=e=>{var{Api:t,origin:r,query:n}=e;return t.get("".concat(r,"/stripchat/widgets"),n)},Me=e=>{var{location:t,url:r,landingParams:n,promoCampaigns:i=[],LocalStorage:o,Api:a,activityTimestamp:s,memberId:c,guestIdUnique:l}=e,u=ke(ke({},(e=>{var t=e.get(O.LAST_TEST_PARAMS);try{return JSON.parse(t)||{}}catch(r){return{}}})(o)),{},{promoCampaigns:i.join(","),memberId:c,guestIdUnique:l,url:r});return Re({Api:a,query:u,origin:Se(t,n)}).catch((()=>Re({Api:a,query:u,origin:Se(t,ke(ke({},n),{},{realDomain:null}))}))).then((e=>{var{links:r=[],testParams:n={},whiteLabel:i,urls:a={},thirdParty:c=[],show50afPromo:l,modelWatchDelay:u=30,features:f={},"50afPromoBrand":d=""}=e;return l?{features:f,urls:a,thirdParty:c,links:Date.now()-s<1e3?[]:["".concat(pe(t),"/widgets/stripchat/widgets/verify50/index.js?brand=").concat(d)]}:(n.testName&&((e,t)=>{e.set(O.LAST_TEST_PARAMS,JSON.stringify(t))})(o,n),{links:r,testParams:n,whiteLabel:i,urls:a,thirdParty:c,features:f,modelWatchDelay:u})}))};class xe{constructor(e){var t,{injectScripts:r,location:n,StripchatApi:i,LocalStorage:o,SessionStorage:a,CookiesStorage:s,Api:l,performance:u,referrer:f}=e,d=i.getLandingParams();if(!d.sauid){var p,g=(p=o.has("stripchatWidgetsDebug"),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p&&console.warn("[Stripchat Widgets] ".concat(e),t)}),h=c(n.href,d);g("Init");var v="stripchatActivityTimestamp",m=parseInt(o.get(v)||"0",10);setInterval((()=>{o.set(v,Date.now())}),1e3),Me({url:h,Api:l,LocalStorage:o,location:n,landingParams:d,promoCampaigns:i.getPromoCampaigns(),memberId:(null===(t=i.getCurrentUser())||void 0===t?void 0:t.id)||0,guestIdUnique:i.getUserHash(),activityTimestamp:m}).then((e=>{var{testParams:t,links:c,whiteLabel:p,urls:v,thirdParty:m,modelWatchDelay:y}=e;return ce.all([this.callAnalytics({url:h,entryUrl:v.entry,clickUrl:v.click,Api:l,testParams:t,location:n,landingParams:d,commitAffiliateId:i.commitAffiliateId,SessionStorage:a,performance:u,referrer:f,currentUser:i.getCurrentUser()}),this.initializeMembersQualityTracking({Api:l,StripchatApi:i,eventUrl:v.event,log:g}),this.initializeRetargeting({CookiesStorage:s,LocalStorage:o,Api:l,StripchatApi:i,location:n,modelWatchDelay:y,stripcashRUrl:v.stripcashR}),this.checkActions({StripchatApi:i,landingParams:d,LocalStorage:o})]).then((()=>this.appendThirdPartyLinks({StripchatApi:i,thirdParty:m.filter((e=>"ALL"===e.visibility))}))).then((()=>(e=>{var{LocalStorage:t,landingParams:r}=e;return t.get("affiliateId")||r.affiliateId||r.userId})({LocalStorage:o,landingParams:d})?ce.resolve():ce.reject(new Error("Init canceled due traffic is not affiliate's")))).then((()=>this.appendThirdPartyLinks({StripchatApi:i,thirdParty:m.filter((e=>"AFF"===e.visibility))}))).then((()=>i.isUserLoggedIn()||"1"===o.get(O.HAS_USER_AUTHORIZED_EVER)?ce.reject(new Error("Init canceled due user was authorized")):ce.resolve())).then((()=>this.run({StripchatApi:i,LocalStorage:o,injectScripts:r,links:c,whiteLabel:p,urls:v})))})).catch((e=>{var{message:t}=e;return g(t)}))}}appendThirdPartyLinks(e){var{StripchatApi:t,thirdParty:r}=e;r.forEach((e=>{var{title:r,url:n,icon:i}=e;t.appendExternalLink({title:r,url:n,icon:i||Pe()})}))}callAnalytics(e){var{url:t,entryUrl:r,clickUrl:n,Api:i,testParams:o,location:a,landingParams:s,commitAffiliateId:c,SessionStorage:l,performance:u,referrer:f}=e;return ce.all([Oe({landingParams:s,getAffiliateId:e=>i.get(n,ke(ke(ke({},e),o?{stripbotTest:"".concat(o.testName,"-").concat(o.variationName)}:{}),{},{noRedirect:"1",targetDomain:ue(a.hostname)})),commitAffiliateId:e=>{var{affiliateId:t}=e;return ce.resolve(c(t))}}),Ie({landingParams:s,location:a,Api:i}),Te({SessionStorage:l,performance:u,entryUrl:r,Api:i,url:t,referrer:f})])}initializeMembersQualityTracking(e){var{StripchatApi:t,Api:r,eventUrl:n,log:i}=e,o=(e,o)=>{var a=t.getCurrentUser();a&&(i(o),r.get(n,{eventType:e,memberExternalId:a.id}))};t.subscribe("onPaymentPageTrigger",(e=>o("offer",e))),t.subscribe("onPaymentPageOpened",(e=>o("buy",e))),t.subscribe("onCreditCardDetailsOpened",(e=>o("pay",e)))}initializeRetargeting(e){var{CookiesStorage:t,LocalStorage:r,StripchatApi:n,Api:i,stripcashRUrl:o,modelWatchDelay:a,location:s}=e,c=()=>{var{cookiesGDPRSettings:{thirdParties:e=[]}={}}=n.getApplicationConfig();return!e.includes("all")},l=()=>{var e,t=n.isUserLoggedIn();return{isLogged:t,memberId:t?null===(e=n.getCurrentUser())||void 0===e?void 0:e.id:void 0,noc:c()?1:void 0}},u=e=>{var n=r.get("affiliateId");if(n)try{n=JSON.parse(n)}catch(a){n=null}return i.get(o,ke(ke(ke({},e),n?{clickTrackId:n}:{}),{},{guestId:c()?void 0:he(t),domain:s.hostname}),{credentials:"include"})},f=()=>{var e;return null===(e=n.getCurrentViewCamModel())||void 0===e?void 0:e.gender},d=()=>u(ke({action:"set",favoriteIds:n.getFavoritesIds().slice(0,30).join(","),historyIds:n.getWatchHistory().join(",")},l()));n.subscribe("onReady",(()=>{d(),n.setEventConfig(me,{timeout:15e4}),n.subscribe("onTipSuccess",(e=>{var{userId:t}=e,r=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,Ce);return u(ke(ke({action:"tip",gender:f()},r),{},{memberId:t}))})),n.subscribe("onPurchaseSuccess",(e=>u(ke({action:"purchase",gender:f()},e)))),n.subscribe(me,(e=>u(ke({action:"watchModel",time:150,gender:f()},e)))),n.subscribe(ve,(()=>setTimeout(d,1e3))),n.subscribe("onLogout",d);var e=null,t="";setInterval((()=>{s.pathname!==t&&clearTimeout(e)}),50),n.subscribe("onViewCam",(r=>{t=s.pathname,e=setTimeout((()=>{u(ke({action:"add",historyIds:r},l()))}),1e3*a)})),n.subscribe("onFavoriteAdded",(e=>u(ke({action:"add",favoriteIds:e.join(","),gender:f()},l())))),n.subscribe("onFavoriteRemoved",(e=>u(ke({action:"remove",favoriteIds:e.join(","),gender:f()},l()))))}))}checkActions(e){var{StripchatApi:t,LocalStorage:r,landingParams:n}=e;if(!t.getCurrentUser()){var{action:i,viewsBeforeAction:o}=n,a=r.get(We),s=i;switch(i||!a||a.endsWith("Soft")||(s=a),s){case"sbSignupWithModel":case"sbSignupWithModelSoft":case"sbSignupWithModelwoX":r.set(We,s);var c=null,l=()=>{var e=()=>setTimeout(l,200),n=t.getCurrentViewCamModel();if(!n)return c=null,e();if(n.username===c)return e();c=n.username;var i=r.get(De)||0;return o&&i<o?(r.set(De,Number(i)+1),e()):t.openModal(A,{action:{backgroundImage:n.avatarUrl,user:{isModel:!0,username:n.username,profile:{avatarUrl:n.avatarUrl}},shouldBypassActionPrefix:!0,type:"createFreeAccount"},isCloseHidden:"sbSignupWithModelwoX"===s,component:"SignUp",className:"auth-modal-signup"})};l();break;case"sb50tokens":t.openModal(A,{action:{shouldBypassActionPrefix:!0,type:"tokenGiveaway"},component:"SignUp",className:"auth-modal-signup"}),t.subscribe("onSignUp",(()=>{t.openModal("tokensGiveaway")}))}}}run(e){var{StripchatApi:t,LocalStorage:r,injectScripts:n,links:i,whiteLabel:o,urls:a}=e;return t.subscribe(ve,(()=>{r.set(O.HAS_USER_AUTHORIZED_EVER,"1")})),i.length>0?(t.addWidgetPlaceholder(),n(i,(e=>{"function"==typeof window.initStripCashWidget&&window.initStripCashWidget({link:e,whiteLabel:o,urls:a,options:s(e.slice(e.indexOf("?")+1))})}))):ce.resolve()}}document.location.href.includes("/alt/")||new xe({injectScripts:(e,t)=>Promise.all(e.map((e=>function(e){return new Promise(((t,r)=>{var n=document.createElement("script");n.async=!0,n.src=e,n.addEventListener("load",t),n.addEventListener("error",(()=>r(new Error("Error loading script.")))),n.addEventListener("abort",(()=>r(new Error("Script loading aborted.")))),document.head.appendChild(n)}))}(e).then((()=>t(e)))))),location:document.location,referrer:document.referrer.trim(),LocalStorage:v,SessionStorage:h,CookiesStorage:m,performance:window.performance,StripchatApi:G,Api:d})}()}();